(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5399:function(e,t,n){e.exports=n(5500)},5408:function(e,t,n){},5499:function(e,t,n){},5500:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(29),l=n(18),c=n(19),m=n(21),o=n(20),i=n(22),d=n(17),f=n(45),s=n(43),b=(n(5408),"ADD_ENTRY"),y="DEL_ENTRY",E="UPDATE_AMOUNT",p="UPDATE_NUMBER";var N=n(2),h=n(4),v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(o.a)(t).call(this,e))).onClick=function(){n.props.onClick(n.props.index)},n}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{color:"primary",mini:!0,className:"or-trash-button",onClick:this.onClick},r.a.createElement(h.d,null))}}]),t}(r.a.Component);function O(e){var t=e.diff>0?100===e.diff?r.a.createElement(h.c,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.c,null),r.a.createElement(h.c,null)):-100===e.diff?r.a.createElement(h.b,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.b,null),r.a.createElement(h.b,null));return r.a.createElement(N.a,{variant:"outlined",disableRipple:!0,className:"or-modify-amount",onClick:function(){e.modifyAmount(e.index,e.diff)}},t)}function j(e){var t=e.diff>0?1===e.diff?r.a.createElement(h.c,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.c,null),r.a.createElement(h.c,null)):-1===e.diff?r.a.createElement(h.b,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.b,null),r.a.createElement(h.b,null));return r.a.createElement(N.a,{variant:"outlined",disableRipple:!0,className:"or-modify-number",onClick:function(){e.modifyNumber(e.index,e.diff)}},t)}var k=Object(f.b)(function(e){return{dataStore:e}},function(e){return{addEntry:function(){return e({type:b})},delEntry:function(t){return e(function(e){return{type:y,payload:{index:e}}}(t))},updateAmount:function(t,n){return e(function(e,t){return{type:E,payload:{index:e,diff:t}}}(t,n))},updateNumber:function(t,n){return e(function(e,t){return{type:p,payload:{index:e,diff:t}}}(t,n))}}})(function(e){var t=e.dataStore.entry.map(function(t,n){return r.a.createElement(a.Fragment,{key:n},r.a.createElement(N.f,null,r.a.createElement(N.e,{className:"or-amount-column"},r.a.createElement(O,{index:n,diff:-500,modifyAmount:e.updateAmount})),r.a.createElement(N.e,{className:"or-amount-column"},r.a.createElement(O,{index:n,diff:-100,modifyAmount:e.updateAmount})),r.a.createElement(N.e,{className:"or-amount-column"},r.a.createElement("div",{className:"amount-line"},t.get("amount"),"\u5186")),r.a.createElement(N.e,{className:"or-amount-column"},r.a.createElement(O,{index:n,diff:100,modifyAmount:e.updateAmount})),r.a.createElement(N.e,{className:"or-amount-column"},r.a.createElement(O,{index:n,diff:500,modifyAmount:e.updateAmount})),r.a.createElement(N.e,{className:"or-subtotal-column"},r.a.createElement(v,{index:n,onClick:e.delEntry}))),r.a.createElement(N.f,null,r.a.createElement(N.e,{className:"or-number-colomn"},r.a.createElement(j,{index:n,diff:-5,modifyNumber:e.updateNumber})),r.a.createElement(N.e,{className:"or-number-colomn"},r.a.createElement(j,{index:n,diff:-1,modifyNumber:e.updateNumber})),r.a.createElement(N.e,{className:"or-number-colomn"},r.a.createElement("div",{className:"number-line"},t.get("number"),"\u4eba")),r.a.createElement(N.e,{className:"or-number-colomn"},r.a.createElement(j,{index:n,diff:1,modifyNumber:e.updateNumber})),r.a.createElement(N.e,{className:"or-number-colomn"},r.a.createElement(j,{index:n,diff:5,modifyNumber:e.updateNumber})),r.a.createElement(N.e,{className:"or-subtotal-column"},r.a.createElement("div",{className:"subtotal-box"},r.a.createElement("span",{className:"subtotal-line"},t.total()," \u5186")))))});return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"total-line"},"\u5408\u8a08: ",e.dataStore.total()," \u5186 ( ",e.dataStore.totalNumber()," \u4eba)"),r.a.createElement(N.c,null,r.a.createElement(N.d,null,t)),r.a.createElement("div",null,r.a.createElement(N.b,{color:"secondary",onClick:e.addEntry,className:"or-plus-button",size:"small"},r.a.createElement(h.a,null))))}),x=n(31),A=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"modifyAmount",value:function(e){return new t(this.set("amount",t.modify(this.amount,e)))}},{key:"modifyNumber",value:function(e){return new t(this.set("number",t.modify(this.number,e)))}},{key:"total",value:function(){return this.amount*this.number}}],[{key:"modify",value:function(e,t){return Math.max(e+t,0)}}]),t}(Object(x.b)({amount:0,number:0})),w={entry:Object(x.a)()},C=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"addEntry",value:function(e,t){return this.set("entry",this.entry.push(new A({amount:e,number:t})))}},{key:"delEntry",value:function(e){return this.set("entry",this.entry.delete(e))}},{key:"modifyAmount",value:function(e,t){return this.set("entry",this.entry.update(e,function(e){return e.modifyAmount(t)}))}},{key:"modifyNumber",value:function(e,t){return this.set("entry",this.entry.update(e,function(e){return e.modifyNumber(t)}))}},{key:"total",value:function(){return this.entry.map(function(e){return e.total()}).reduce(function(e,t){return e+t})}},{key:"totalNumber",value:function(){return this.entry.map(function(e){return e.number}).reduce(function(e,t){return e+t})}}]),t}(Object(x.b)(w));var g=Object(s.b)(function(e,t){switch(t.type){case b:return e.addEntry(1e3,1);case y:return e.delEntry(t.payload.index);case E:return e.modifyAmount(t.payload.index,t.payload.diff);case p:return e.modifyNumber(t.payload.index,t.payload.diff);default:return e}},(new C).addEntry(1e3,1)),T=Object(d.createMuiTheme)({typography:{useNextVariants:!0}}),D=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.MuiThemeProvider,{theme:T},r.a.createElement(f.a,{store:g},r.a.createElement(k,null)))}}]),t}(a.Component);n(5499);u.render(a.createElement(D,null),document.getElementById("root"))}},[[5399,1,2]]]);
//# sourceMappingURL=main.21e3e23c.chunk.js.map