{"version":3,"sources":["constants.ts","components/DelButton.tsx","components/ModifyAmount.tsx","components/ModifyNumber.tsx","containers/WarikanApp.ts","actions.ts","components/Warikan.tsx","models/EntryState.ts","models/DataStore.ts","App.tsx","reducers.ts","index.tsx"],"names":["ADD_ENTRY","DEL_ENTRY","UPDATE_AMOUNT","UPDATE_NUMBER","DelButton","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onClick","index","inherits","createClass","key","value","react_default","a","createElement","index_es","color","mini","className","icons_index_es","React","Component","ModifyAmount","icon","diff","Fragment","variant","disableRipple","modifyAmount","ModifyNumber","modifyNumber","connect","dataStore","dispatch","addEntry","type","delEntry","i","payload","updateAmount","d","updateNumber","tableBody","entry","map","e","react","get","DelButton_DelButton","total","totalNumber","size","EntryState","_Record","apply","arguments","set","modify","amount","number","x","Math","max","Record","defaultDataStore","List","DataStore","num","push","delete","update","reduce","b","store","createStore","action","theme","createMuiTheme","typography","useNextVariants","App","styles","es","WarikanApp","ReactDOM","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.21e3e23c.chunk.js","sourcesContent":["export const UPDATE_MODEL = \"UPDATE_MODEL\";\nexport type UPDATE_MODEL = typeof UPDATE_MODEL;\n\nexport const ADD_ENTRY = \"ADD_ENTRY\";\nexport type ADD_ENTRY = typeof ADD_ENTRY;\n\nexport const DEL_ENTRY = \"DEL_ENTRY\";\nexport type DEL_ENTRY = typeof DEL_ENTRY;\n\nexport const UPDATE_AMOUNT = \"UPDATE_AMOUNT\";\nexport type UPDATE_AMOUNT = typeof UPDATE_AMOUNT;\n\nexport const UPDATE_NUMBER = \"UPDATE_NUMBER\";\nexport type UPDATE_NUMBER = typeof UPDATE_NUMBER;\n","import { Button } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport React from \"react\";\n\ninterface IDelButtonProps {\n    index: number;\n    onClick: (i: number) => void;\n}\n\nexport class DelButton extends React.Component<IDelButtonProps> {\n\n    constructor(props: IDelButtonProps) {\n        super(props);\n    }\n\n    public render() {\n        return (\n            <Button\n                color=\"primary\"\n                mini={true}\n                className=\"or-trash-button\"\n                onClick={this.onClick}\n            >\n                <Delete/>\n            </Button>\n        );\n    }\n\n    private onClick = () => {\n        this.props.onClick(this.props.index);\n    }\n}\n","import { Button } from \"@material-ui/core\";\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport React from \"react\";\n\ninterface IModifierAmountProps {\n    index: number;\n    diff: number;\n    modifyAmount: (i: number, d: number) => void;\n}\n\nexport function ModifyAmount(props: IModifierAmountProps) {\n    const update = () => {\n        props.modifyAmount(props.index, props.diff);\n    };\n\n    const icon = props.diff > 0 ?\n        (props.diff === 100 ? <ChevronRight/> : <><ChevronRight/><ChevronRight/></>) :\n        (props.diff === -100 ? <ChevronLeft/> : <><ChevronLeft/><ChevronLeft/></>);\n    return (\n        <Button variant=\"outlined\" disableRipple={true} className=\"or-modify-amount\" onClick={update}>\n            {icon}\n        </Button>);\n}\n","import { Button } from \"@material-ui/core\";\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport React from \"react\";\n\ninterface IModifierNumberProps {\n    index: number;\n    diff: number;\n    modifyNumber: (i: number, d: number) => void;\n}\n\nexport function ModifyNumber(props: IModifierNumberProps) {\n    const update = () => {\n        props.modifyNumber(props.index, props.diff);\n    };\n    const icon = props.diff > 0 ?\n        (props.diff === 1 ? <ChevronRight/> : <><ChevronRight/><ChevronRight/></>) :\n        (props.diff === -1 ? <ChevronLeft/> : <><ChevronLeft/><ChevronLeft/></>);\n    return (\n        <Button variant=\"outlined\" disableRipple={true} className=\"or-modify-number\" onClick={update}>\n            {icon}\n        </Button>);\n}\n","import { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { addEntry, delEntry, ModelAction, updateAmount, updateNumber } from \"../actions\";\nimport { Warikan } from \"../components/Warikan\";\nimport { DataStore } from \"../models/DataStore\";\n\nexport function mapStateToProps(dataStore: DataStore) {\n    return {dataStore};\n}\n\nexport function mapDispatchToProps(dispatch: Dispatch<ModelAction>) {\n    return {\n        addEntry: () => dispatch(addEntry()),\n        delEntry: (i: number) => dispatch(delEntry(i)),\n        updateAmount: (i: number, d: number) => dispatch(updateAmount(i, d)),\n        updateNumber: (i: number, d: number) => dispatch(updateNumber(i, d)),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Warikan);\n","import { ADD_ENTRY, DEL_ENTRY, UPDATE_AMOUNT, UPDATE_NUMBER } from \"./constants\";\n\ninterface IAddEntry {\n    type: ADD_ENTRY;\n}\n\ninterface IDelEntry {\n    type: DEL_ENTRY;\n    payload: {\n        index: number;\n    };\n}\n\ninterface IUpdateAmount {\n    type: UPDATE_AMOUNT;\n    payload: {\n        index: number;\n        diff: number;\n    };\n}\n\ninterface IUpdateNumber {\n    type: UPDATE_NUMBER;\n    payload: {\n        index: number;\n        diff: number;\n    };\n}\n\nexport type ModelAction = IAddEntry | IDelEntry | IUpdateAmount | IUpdateNumber;\n\nexport function addEntry(): IAddEntry {\n    return {\n        type: ADD_ENTRY,\n    };\n}\n\nexport function delEntry(i: number): IDelEntry {\n    return {\n        type: DEL_ENTRY,\n        payload: {\n            index: i,\n        },\n    };\n}\n\nexport function updateAmount(i: number, d: number): IUpdateAmount {\n    return {\n        type: UPDATE_AMOUNT,\n        payload: {\n            index: i,\n            diff: d,\n        },\n    };\n}\n\nexport function updateNumber(i: number, d: number): IUpdateNumber {\n    return {\n        type: UPDATE_NUMBER,\n        payload: {\n            index: i,\n            diff: d,\n        },\n    };\n}\n","import { Fab, Table, TableBody, TableCell, TableRow } from \"@material-ui/core\";\nimport { Add } from \"@material-ui/icons\";\nimport React, { Component, Fragment } from \"react\";\nimport { EntryState } from \"../models/EntryState\";\nimport { IWarikanProps } from \"../types\";\nimport { DelButton } from \"./DelButton\";\nimport { ModifyAmount } from \"./ModifyAmount\";\nimport { ModifyNumber } from \"./ModifyNumber\";\n\nexport function Warikan(props: IWarikanProps) {\n    const tableBody = props.dataStore.entry.map((e: EntryState, i: number) => {\n            return (\n                <Fragment key={i}>\n                    <TableRow>\n                        <TableCell className=\"or-amount-column\">\n                            <ModifyAmount\n                                index={i}\n                                diff={-500}\n                                modifyAmount={props.updateAmount}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-amount-column\">\n                            <ModifyAmount\n                                index={i}\n                                diff={-100}\n                                modifyAmount={props.updateAmount}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-amount-column\">\n                            <div className=\"amount-line\">\n                                {e.get(\"amount\")}円\n                            </div>\n                        </TableCell>\n                        <TableCell className=\"or-amount-column\">\n                            <ModifyAmount\n                                index={i}\n                                diff={100}\n                                modifyAmount={props.updateAmount}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-amount-column\">\n                            <ModifyAmount\n                                index={i}\n                                diff={500}\n                                modifyAmount={props.updateAmount}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-subtotal-column\">\n                            <DelButton index={i} onClick={props.delEntry}/>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className=\"or-number-colomn\">\n                            <ModifyNumber\n                                index={i}\n                                diff={-5}\n                                modifyNumber={props.updateNumber}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-number-colomn\">\n                            <ModifyNumber\n                                index={i}\n                                diff={-1}\n                                modifyNumber={props.updateNumber}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-number-colomn\">\n                            <div className=\"number-line\">\n                                {e.get(\"number\")}人\n                            </div>\n                        </TableCell>\n                        <TableCell className=\"or-number-colomn\">\n                            <ModifyNumber\n                                index={i}\n                                diff={1}\n                                modifyNumber={props.updateNumber}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-number-colomn\">\n                            <ModifyNumber\n                                index={i}\n                                diff={5}\n                                modifyNumber={props.updateNumber}\n                            />\n                        </TableCell>\n                        <TableCell className=\"or-subtotal-column\">\n                            <div className=\"subtotal-box\">\n                                <span className=\"subtotal-line\">{e.total()} 円</span>\n                            </div>\n                        </TableCell>\n                    </TableRow>\n                </Fragment>);\n        },\n    );\n\n    return (\n        <div className=\"App\">\n            <div className=\"total-line\">\n                合計: {props.dataStore.total()} 円 ( {props.dataStore.totalNumber()} 人)\n            </div>\n            <Table>\n                <TableBody>\n                    {tableBody}\n                </TableBody>\n            </Table>\n            <div>\n                <Fab\n                    color=\"secondary\"\n                    onClick={props.addEntry}\n                    className=\"or-plus-button\"\n                    size=\"small\"\n                >\n                    <Add/>\n                </Fab>\n            </div>\n        </div>\n    );\n}\n","import { Record } from \"immutable\";\n\ninterface IEntryState {\n    amount: number;\n    number: number;\n}\n\nconst defaultEntryState: IEntryState = {\n    amount: 0,\n    number: 0,\n};\n\nexport class EntryState extends Record(defaultEntryState) implements IEntryState {\n    public static modify(x: number, d: number) {\n        return Math.max(x + d, 0);\n    }\n\n    public modifyAmount(diff: number) {\n        return new EntryState(this.set(\"amount\", EntryState.modify(this.amount, diff)));\n    }\n\n    public modifyNumber(diff: number) {\n        return new EntryState(this.set(\"number\", EntryState.modify(this.number, diff)));\n    }\n\n    public total() {\n        return this.amount * this.number;\n    }\n\n}\n","import { List, Record } from \"immutable\";\nimport { EntryState } from \"./EntryState\";\n\ninterface IDataStore {\n    entry: List<EntryState>;\n}\n\nconst defaultDataStore: IDataStore = {\n    entry: List<EntryState>(),\n};\n\nexport class DataStore extends Record(defaultDataStore) implements IDataStore {\n\n    public addEntry(amount: number, num: number) {\n        return this.set(\"entry\", this.entry.push(new EntryState({amount, number: num})));\n    }\n\n    public delEntry(index: number) {\n        return this.set(\"entry\", this.entry.delete(index));\n    }\n\n    public modifyAmount(index: number, diff: number) {\n        return this.set(\"entry\", this.entry.update(index, (x) => x.modifyAmount(diff)));\n    }\n\n    public modifyNumber(index: number, diff: number) {\n        return this.set(\"entry\", this.entry.update(index, (x) => x.modifyNumber(diff)));\n    }\n\n    public total() {\n        return this.entry.map((x: EntryState) => x.total()).reduce((a: number, b: number) => a + b);\n    }\n\n    public totalNumber() {\n        return this.entry.map((x: EntryState) => x.number).reduce((a: number, b: number) => a + b);\n    }\n\n}\n\n","import { createMuiTheme, MuiThemeProvider } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport \"./App.css\";\nimport WarikanApp from \"./containers/WarikanApp\";\nimport { DataStore } from \"./models/DataStore\";\nimport { modelReducer } from \"./reducers\";\n\n// @ts-ignore\nconst store = createStore<DataStore>(modelReducer, new DataStore().addEntry(1000, 1));\n\nconst theme = createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n});\n\nexport default class App extends Component {\n    public render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Provider store={store}>\n                    <WarikanApp/>\n                </Provider>\n            </MuiThemeProvider>\n        );\n    }\n}\n","import { ModelAction } from \"./actions\";\nimport { ADD_ENTRY, DEL_ENTRY, UPDATE_AMOUNT, UPDATE_MODEL, UPDATE_NUMBER } from \"./constants\";\nimport { DataStore } from \"./models/DataStore\";\n\nexport function modelReducer(dataStore: DataStore, action: ModelAction): DataStore {\n    switch (action.type) {\n        case ADD_ENTRY:\n            return dataStore.addEntry(1000, 1);\n        case DEL_ENTRY:\n            return dataStore.delEntry(action.payload.index);\n        case UPDATE_AMOUNT:\n            return dataStore.modifyAmount(action.payload.index, action.payload.diff);\n        case UPDATE_NUMBER:\n            return dataStore.modifyNumber(action.payload.index, action.payload.diff);\n        default:\n            return dataStore;\n    }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)\n;\n"],"sourceRoot":""}